<html xmlns="http://www.w3.org/1999/xhtml" lang="it">
    <head>

        <title>Mora Cinese</title>
        <meta http-equiv="Content-type" content="text/html; charset=iso-8859-1" />
        <meta http-equiv="Content-Language" content="it" />
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="css/bootstrap.rtl.min.css" integrity="sha384-OXTEbYDqaX2ZY/BOaZV/yFGChYHtrXH2nyXJ372n2Y8abBhrqacCEe+3qhSHtLjy" crossorigin="anonymous">
            
        <style>
            form{
                width: 400px;
                align-items: center;
                margin-left: auto;
                margin-right: auto;
            }

            .bd-placeholder-img {
                font-size: 1.125rem;
                text-anchor: middle;
                -webkit-user-select: none;
                -moz-user-select: none;
                user-select: none;
            }

            @media (min-width: 768px) {
                .bd-placeholder-img-lg {
                    font-size: 3.5rem;
                }
            }

            .nav-scroller {
                position: relative;
                z-index: 2;
                height: 2.75rem;
                overflow-y: hidden;
            }

            .nav-scroller .nav {
                display: flex;
                flex-wrap: nowrap;
                padding-bottom: 1rem;
                margin-top: -1px;
                overflow-x: auto;
                text-align: center;
                white-space: nowrap;
                -webkit-overflow-scrolling: touch;
            }
        </style>

        <script type="text/javascript">

            var giocate= new Array ("carta", "forbice", "sasso");
            var punteggioPc=0;
            var punteggioGioc=0;
            var testoRis;
            var nomeGioc;
            var numeroMani;
            var giocataPc="";
           
            function inizia(){
                document.getElementById("divInizio").hidden = true;
                document.getElementById("divGioco").hidden = false;
                nomeGioc=document.getElementById("txtNome").value;
                scelta= nomeGioc + " fai la tua scelta!";
                document.getElementById("lblFaiScelta").innerHTML=scelta;
                numeroMani=document.getElementById("numMani").value;
            }
           
            function gioca(val){
                random=Math.round(Math.random()*(giocate.length - 1));
                giocataPc=giocate[random];
                if(val=='c'){
                    document.getElementById("imgRisGiocatore").src="img/carta_sx.png";
                    if(giocataPc=="carta"){
                        document.getElementById("imgRisPc").src="img/carta_dx.png";
                        testoRis ="Pareggio!  PC: " + punteggioPc + " - " + nomeGioc + ": " + punteggioGioc;
                        document.getElementById("lblRis").innerHTML=testoRis;
                    }else{
                        if(giocataPc=="sasso"){
                            document.getElementById("imgRisPc").src="img/sasso_dx.png";
                            punteggioGioc++;
                            testoRis ="Hai vinto!  PC: " + punteggioPc + " - " + nomeGioc + ": " + punteggioGioc;
                            document.getElementById("lblRis").innerHTML=testoRis;
                        }else{
                            if(giocataPc=="forbice"){
                                document.getElementById("imgRisPc").src="img/forbice_dx.png";
                                punteggioPc++;
                                testoRis ="Hai perso!  PC: " + punteggioPc + " - " + nomeGioc + ": " + punteggioGioc;
                                document.getElementById("lblRis").innerHTML=testoRis;
                            }
                        }
                    }
                }else{
                    if(val=='s'){
                        document.getElementById("imgRisGiocatore").src="img/sasso_sx.png";
                        if(giocataPc=="sasso"){
                            document.getElementById("imgRisPc").src="img/sasso_dx.png";
                            testoRis ="Pareggio!  PC: " + punteggioPc + " - " + nomeGioc + ": " + punteggioGioc;
                            document.getElementById("lblRis").innerHTML=testoRis;
                        }else{
                            if(giocataPc=="forbice"){
                                document.getElementById("imgRisPc").src="img/forbice_dx.png";
                                punteggioGioc++;
                                testoRis ="Hai vinto!  PC: " + punteggioPc + " - " + nomeGioc + ": " + punteggioGioc;
                                document.getElementById("lblRis").innerHTML=testoRis;
                            }else{
                                if(giocataPc=="carta"){
                                    document.getElementById("imgRisPc").src="img/carta_dx.png";
                                    punteggioPc++;
                                    testoRis ="Hai perso!  PC: " + punteggioPc + " - " + nomeGioc + ": " + punteggioGioc;
                                    document.getElementById("lblRis").innerHTML=testoRis;
                                }
                            }
                        }
                    }else{
                        if(val=='f'){
                            document.getElementById("imgRisGiocatore").src="img/forbice_sx.png";
                            if(giocataPc=="forbice"){
                                document.getElementById("imgRisPc").src="img/forbice_dx.png";
                                testoRis ="Pareggio!  PC: " + punteggioPc + " - " + nomeGioc + ": " + punteggioGioc;
                                document.getElementById("lblRis").innerHTML=testoRis;
                            }else{
                                if(giocataPc=="carta"){
                                    document.getElementById("imgRisPc").src="img/carta_dx.png";
                                    punteggioGioc++;
                                    testoRis ="Hai vinto!  PC: " + punteggioPc + " - " + nomeGioc + ": " + punteggioGioc;
                                    document.getElementById("lblRis").innerHTML=testoRis;
                                }else{
                                    if(giocataPc=="sasso"){
                                        document.getElementById("imgRisPc").src="img/sasso_dx.png";
                                        punteggioPc++;
                                        testoRis ="Hai perso!  PC: " + punteggioPc + " - " + nomeGioc + ": " + punteggioGioc;
                                        document.getElementById("lblRis").innerHTML=testoRis;
                                    }
                                }
                            }
                        }
                    }
                }
                document.getElementById("lblRis").innerHTML=testoRis;
                document.getElementById("divGioco").hidden = true;
                document.getElementById("divRisultato").hidden = false;
                numeroMani--;
            }
           
            function continua(){
                if(numeroMani>0){
                    document.getElementById("divRisultato").hidden = true;
                    document.getElementById("divGioco").hidden = false;
                }else{
                    if(punteggioGioc>punteggioPc){
                        document.getElementById("lblVincitore").innerHTML="Hai vinto!";
                    }else{
                        if(punteggioPc>punteggioGioc){
                            document.getElementById("lblVincitore").innerHTML="Hai perso! Prova di nuovo";
                        }else{
                            if(punteggioGioc==punteggioPc){
                                document.getElementById("lblVincitore").innerHTML="Pareggio! Prova di nuovo";
                            }
                        }
                    }
                    document.getElementById("lblRis").hidden = true;
                    document.getElementById("sceltaPc").hidden = true;
                    document.getElementById("btnContinua").hidden = true;
                    document.getElementById("lblVincitore").hidden = false;
                    document.getElementById("divFine").hidden = false;
                }
            }

        </script>
    </head>
    <body class="text-center">
        <div align="center">
            <label id="lblTitolo" style="font-size: 40px; font-family: Georgia">
                Gioca a morra cinese!
            </label>
            <br><br>
            <form id="divInizio" method="post">
                <label class="form-label" id="lblNome" for="txtNome">Nome giocatore</label><br>
                <input class="form-control" type="text" id="txtNome" name="nome" placeholder="Nome Giocatore" required="" width="100px">
                <br><br>
                <label class="form-label" id="lblMani" for="numMani">Numero Mani</label><br>
                <input class="form-control" type="number" id="numMani" name="nMani" min="1" required="" width="100px"> 
                <br><br> 
                <input type="button" class="btn btn-primary" onclick="inizia()" value="Inizia">      
            </form>
            <div id="divGioco" hidden="">
                <br><br>
                <img src="img/carta_forbice_sasso.png" usemap="#image-map">
                    <map name="image-map">
                    <area coords="238,325,63,171" shape="rect" onclick="gioca('c')">
                    <area coords="1,0,180,129"    shape="rect" onclick="gioca('f')">
                    <area coords="399,167,265,45" shape="rect" onclick="gioca('s')">
                </map>
                    <br><br><br><br>
                <label id="lblFaiScelta"></label>
            </div>
            <div id="divRisultato" hidden="">
               <img src="" id="imgRisGiocatore"><img src="" id="imgRisPc">
               <br><br>
               <label id="lblRis"></label>
               <br>
               <label id="sceltaPc"></label>
               <br><br>
               <button id="btnContinua" class="btn btn-primary" onclick="continua()">Continua</button>
            </div>
            <label id="lblVincitore"></label>
            <br><br>
            <div id="divFine" hidden="">
               <button class="btn btn-primary" onclick="window.location.href='index.html'">Rigioca</button>
            </div>
        </div>

    </body>
</html>
                